<html>
    <head>
        <script>
            let c = 0;
            let varPrimo = 0;
            let varSecondo = 0;
            let varTerzo = 0;

            let time = 5;

            function clicca(){
                c++;
                document.getElementById("Score").innerHTML = "Score: "+c;
                return c;
            }

            function pulisci(){
                c=0;
                document.getElementById("Score").innerHTML = "Score: ";
            }

            setInterval(() => {
                while(true){
                    if(c>=varTerzo){
                        if(c>=varSecondo){
                            if(c>=varPrimo){
                                varTerzo=varSecondo;
                                varSecondo=varPrimo;
                                varPrimo=c;
                                document.getElementById("terzo").innerHTML = document.getElementById("secondo").innerHTML;
                                document.getElementById("secondo").innerHTML = document.getElementById("primo").innerHTML;
                                document.getElementById("primo").innerHTML = varPrimo+" - "+document.getElementById("nome").value+" "+document.getElementById("cognome").value;
                                break;
                            }

                            varTerzo=varSecondo;
                            varSecondo=c;
                            document.getElementById("terzo").innerHTML = document.getElementById("secondo").innerHTML;
                            document.getElementById("secondo").innerHTML = varSecondo+" - "+document.getElementById("nome").value+" "+document.getElementById("cognome").value;
                            break;
                        }
                        
                        varTerzo=c;
                        document.getElementById("terzo").innerHTML = varTerzo+" - "+document.getElementById("nome").value+" "+document.getElementById("cognome").value;
                        break;
                    }
                    break;
                }
                pulisci();
            }, 5000)

            setInterval(() => {
                time--;
                if (time==0){
                    time=5;
                }
                document.getElementById("Secondi").innerHTML = "Mancano "+time+" secondi.";
            }, 1000)

        </script>
    </head>

    <body>
        <h1>IL GIOCO DEL CLICK</h1>

        <input type="text" id="nome" placeholder="Nome">
        <br><br>
        <input type="text" id="cognome" placeholder="Cognome">
        <br><br>
        <input type="button" value="CLICK" onclick="clicca();">

        <p id="Secondi">Mancano 5 secondi</p>
        <p id="Score">Score: </p>
        
        <p>Classifica record: </p>

        <ol>
            <li id="primo"></li>
            <li id="secondo"></li>
            <li id="terzo"></li>
        </ol>
        
    </body>
</html>
